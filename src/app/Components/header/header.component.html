<header class="bg-main">
    <div class="py-5 flex items-center md:px-10 justify-around">
        <a routerLink="/">
            <div class="flex items-center justify-evenly">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="26"
                    height="39"
                    viewBox="0 0 26 39"
                    fill="none"
                    class="size-7"
                >
                    <path
                        d="M18.1981 25.0035C17.212 23.1514 16.2259 21.299 15.2398 19.4469C15.048 19.0863 14.8445 18.7315 14.6369 18.3786C14.6872 18.3572 14.7342 18.3226 14.7728 18.2692C16.9727 15.2244 19.0218 12.0594 21.2704 9.05242C22.8174 6.98412 24.7298 4.67854 25.3611 2.12096C25.5416 1.38904 25.4687 0.490904 24.6806 0.164059C23.2741 -0.419338 22.014 0.661677 21.2062 1.70258C20.6689 2.39459 20.2455 3.16861 19.8218 3.93271C19.1179 5.20057 18.3311 6.42674 17.5962 7.67752C16.0478 10.3119 14.4245 12.8717 12.7376 15.4176C12.2541 14.7039 11.7664 13.9942 11.293 13.2814C9.49618 10.577 7.92272 7.74127 6.2454 4.96308C5.35502 3.48811 4.59569 1.57212 3.136 0.553653C2.37588 0.0236713 0.962468 -0.350633 0.282963 0.536376C-0.282562 1.27446 0.122909 2.36858 0.434266 3.12255C0.975963 4.4341 1.77064 5.64159 2.56789 6.80918C5.2595 10.7506 8.04226 14.6451 10.8544 18.5075C7.25314 25.1852 3.65208 31.8631 0.0516221 38.5412C-0.143969 38.9036 0.359407 39.1796 0.592925 38.8575C2.72894 35.9131 4.87687 32.9777 6.82185 29.902C8.71601 26.9066 10.6133 23.9189 12.7323 21.0762C14.7648 23.8117 16.6125 26.6753 18.4217 29.5615C20.4264 32.7596 22.6498 35.8041 24.8649 38.8575C25.0986 39.1796 25.5996 38.9044 25.4062 38.5412C23.0033 34.0285 20.6008 29.516 18.1981 25.0035ZM13.129 15.9624C15.8492 11.8679 18.3836 7.67713 20.8323 3.41504C21.4739 2.29868 22.9084 -0.075416 24.5283 0.784588C25.3148 1.20238 24.4745 2.84733 24.2372 3.34951C23.2344 5.47103 21.7523 7.3634 20.3557 9.23511C18.264 12.0379 16.3599 14.9968 14.3139 17.8367C13.929 17.2097 13.5252 16.5923 13.1149 15.9793C13.1195 15.9736 13.1244 15.9688 13.129 15.9624ZM6.27996 29.5857C5.19755 31.3057 4.04605 32.9792 2.86913 34.6353C5.66717 29.4465 8.46501 24.2581 11.2629 19.0693C11.6233 19.5635 11.9825 20.0593 12.3437 20.5526C10.1626 23.4561 8.21303 26.5142 6.27996 29.5857ZM19.1768 29.5857C17.1772 26.4237 15.1749 23.2686 12.9177 20.2809C10.9771 17.6316 9.05853 14.965 7.18304 12.2692C5.54167 9.91004 3.76825 7.60167 2.23946 5.169C1.554 4.07786 0.592929 2.66425 0.638798 1.31755C0.659449 0.712114 1.26727 0.635067 1.749 0.644399C3.01111 0.669618 3.92849 2.26234 4.49302 3.19244C5.99381 5.66423 7.40307 8.1944 8.88658 10.6771C10.5268 13.4223 12.4318 15.9994 14.0962 18.7301C16.0931 22.0073 17.7604 25.515 19.5627 28.9004C20.6059 30.8603 21.6496 32.8198 22.6931 34.7797C21.4814 33.0757 20.2952 31.3543 19.1768 29.5857Z"
                        fill="#FCEDE8"
                    />
                </svg>
                <span class="text-3xl font-bold text-white">Craftopia</span>
            </div>
        </a>
        <div>
            <ul class="text-white gap-8 hidden md:flex">
                <li class="hover:font-bold" routerLinkActive="font-bold underline" [routerLinkActiveOptions]="{ exact: true }"><a routerLink="/">Home</a></li>
                <li class="hover:font-bold" ><a (click)="navigateToSection('category')">Category</a></li>
                <li class="hover:font-bold" routerLinkActive="font-bold underline"><a routerLink="/about-us">About</a></li>
                <li class="hover:font-bold" routerLinkActive="font-bold underline"><a routerLink="/products">Products</a></li>
                <li class="hover:font-bold" routerLinkActive="font-bold underline"><a routerLink="/contact-us">Contact Us</a></li>
                <li>
                    <button (click)="toggleCart($event)" class="hover:fill-red-500 cursor-pointer">
                        <svg
                            width="24"
                            height="25"
                            viewBox="0 0 24 25"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M19.2 19.7C17.868 19.7 16.8 20.768 16.8 22.1C16.8 22.7365 17.0529 23.347 17.5029 23.7971C17.953 24.2471 18.5635 24.5 19.2 24.5C19.8365 24.5 20.447 24.2471 20.8971 23.7971C21.3471 23.347 21.6 22.7365 21.6 22.1C21.6 21.4635 21.3471 20.853 20.8971 20.4029C20.447 19.9529 19.8365 19.7 19.2 19.7ZM0 0.5V2.9H2.4L6.72 12.008L5.088 14.948C4.908 15.284 4.8 15.68 4.8 16.1C4.8 16.7365 5.05286 17.347 5.50294 17.7971C5.95303 18.2471 6.56348 18.5 7.2 18.5H21.6V16.1H7.704C7.62444 16.1 7.54813 16.0684 7.49187 16.0121C7.43561 15.9559 7.404 15.8796 7.404 15.8C7.404 15.74 7.416 15.692 7.44 15.656L8.52 13.7H17.46C18.36 13.7 19.152 13.196 19.56 12.464L23.856 4.7C23.94 4.508 24 4.304 24 4.1C24 3.78174 23.8736 3.47652 23.6485 3.25147C23.4235 3.02643 23.1183 2.9 22.8 2.9H5.052L3.924 0.5M7.2 19.7C5.868 19.7 4.8 20.768 4.8 22.1C4.8 22.7365 5.05286 23.347 5.50294 23.7971C5.95303 24.2471 6.56348 24.5 7.2 24.5C7.83652 24.5 8.44697 24.2471 8.89706 23.7971C9.34714 23.347 9.6 22.7365 9.6 22.1C9.6 21.4635 9.34714 20.853 8.89706 20.4029C8.44697 19.9529 7.83652 19.7 7.2 19.7Z"
                                fill="#FDF6F3"
                            />
                        </svg>
                    </button>
                </li>
                <li>
                    <a routerLink="/favorite-products"
                        ><svg
                            width="24"
                            height="20"
                            viewBox="0 0 24 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M11.975 19.3675C11.7325 19.3675 11.4921 19.3233 11.2537 19.235C11.0154 19.1475 10.8058 19.0129 10.625 18.8313L9.19 17.5375C6.965 15.5167 5.0025 13.5513 3.3025 11.6413C1.60083 9.73208 0.75 7.7475 0.75 5.6875C0.75 4.0975 1.29 2.7625 2.37 1.6825C3.45 0.6025 4.785 0.0625 6.375 0.0625C7.28667 0.0625 8.23625 0.292917 9.22375 0.75375C10.2113 1.21458 11.1367 2.08375 12 3.36125C12.8642 2.08375 13.7896 1.21458 14.7762 0.75375C15.7629 0.292917 16.7125 0.0625 17.625 0.0625C19.215 0.0625 20.55 0.6025 21.63 1.6825C22.71 2.7625 23.25 4.0975 23.25 5.6875C23.25 7.795 22.3646 9.82083 20.5938 11.765C18.8229 13.7092 16.8846 15.635 14.7787 17.5425L13.3513 18.8313C13.1696 19.0129 12.9558 19.1475 12.71 19.235C12.4642 19.3225 12.2196 19.3667 11.9762 19.3675"
                                fill="#FDF6F3"
                            />
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
        <div class="flex gap-3">
            <ng-container *ngIf="isLoggedIn; else loginButton">
                <div class="relative">
                    <img
                        class="size-14 rounded-full cursor-pointer w-10 h-10"
                        [src]="userImage"
                        alt="User Avatar"
                        (click)="toggleDropdown()"
                    />
                    <ul
                    class="bg-main-50 absolute top-[120%] left-[-250px] lg:left-[-115px] w-auto flex flex-col rounded shadow z-50 opacity-0 scale-95 translate-y-[-10px] transition-all duration-300 ease-out origin-top p-3 pointer-events-none"
                    [ngClass]="{
                        'opacity-100 scale-100 translate-y-0 pointer-events-auto': dropdownOpen,
                        'opacity-0 scale-95 translate-y-[-10px] pointer-events-none': !dropdownOpen
                    }"
                    >
                        <li class="border-b border-gray-300 w-full px-5 py-2">
                            <div class="flex items-center gap-3">
                                <img
                                    class="size-6 rounded-full"
                                    [src]="userImage"
                                    alt="User Avatar"
                                />
                                <span class="whitespace-nowrap font-medium text-gray-700">
                                    {{ userName }}
                                </span>
                                <a
                                    routerLink="/profile"
                                    class="bg-main-800 hover:bg-main-900 transition-all text-white px-3 py-2 rounded text-[14px] w-30 text-center"
                                >
                                    Edit Profile
                                </a>
                            </div>
                        </li>
                        <li
                            class="border-b border-gray-300 w-full px-5 py-2 cursor-pointer hover:bg-main-200 transition-all flex gap-2"
                        >
                            <img src="icons/fav-product.svg" alt="" />
                            <a routerLink="/favorite-products" class="text-gray-700"
                                >Favorite Products</a
                            >
                        </li>
                        <li
                            class="border-b border-gray-300 w-full px-5 py-2 cursor-pointer hover:bg-main-200 transition-all flex gap-2"
                        >
                            <img src="icons/myorder.svg" alt="" />
                            <a routerLink="/myOrder" class="text-gray-700"
                                >My Order</a
                            >
                        </li>

                        <li
                            class="w-full px-5 py-2 cursor-pointer hover:bg-main-200 transition-all flex gap-2"
                            (click)="logout()"
                        >
                            <img src="icons/logout.svg" alt="" />
                            <span class="text-gray-700">Logout</span>
                        </li>
                    </ul>
                </div>
            </ng-container>

            <ng-template #loginButton>
                <a
                    routerLink="/login"
                    class="py-2 px-3 border-3 border-main-100 rounded-2xl md:text-xl text-main-100 font-bold md:w-28 text-center"
                >
                    Log In
                </a>

                <a
                    routerLink="/register"
                    class="py-2 px-3 bg-main-100 border-3 border-main-100 rounded-2xl md:text-xl text-main font-bold md:w-28 text-center"
                >
                    Sign Up
                </a>
            </ng-template>
        </div>
    </div>
</header>
